@DIPLOMA
$INPUT_LOOP
CALL DRAWCOUNTRYLIST
INPUT
IF RESULT==0
RETURN
ELSEIF  RESULT<COUNTRY_NUM&&RESULT>0
CALL COUNTRYPANEL(RESULT)
ELSE
RETURN
ENDIF
GOTO INPUT_LOOP



@DRAWCOUNTRYLIST
CLEARLINE 200
DRAWLINE
REPEAT COUNTRY_NUM
    PRINTFORML [{COUNT}]%COUNTRY_NAME:COUNT%
REND
PRINTL [999]返回
DRAWLINE

@COUNTRYPANEL,ARG
$INPUT_LOOP
CLEARLINE 400
DRAWLINE
PRINTS COUNTRY_NAME:ARG
PRINT 态度：
IF COUNTRY_好感度:ARG<0
    SETCOLOR 0xC07070
    PRINTL 厌恶
ELSEIF  COUNTRY_好感度:ARG<200
    SETCOLOR 0xFFF200
    PRINTL 中立
ELSEIF COUNTRY_好感度:ARG<1000
    SETCOLOR 0x22B14C
    PRINTL 友好
ELSE
    SETCOLOR 0xFF00DE
    PRINTL 盟友
ENDIF
RESETCOLOR
PRINTL ============================行动===========================
PRINTL [1]进行亲善
PRINTL [2]胁迫招揽
PRINTL 秘密同盟战线会谈*
PRINTL ============================协议===========================
PRINTL [11]资源支援协议
PRINTL [12]人才输送协议
PRINTL [13]商贸订单协议
DRAWLINE
PRINTL [999]返回

INPUT
SELECTCASE RESULT
    CASE 1
        CALL INTERCOURSE(ARG)
    CASE 2
        CALL KIDNAP(ARG)
    CASE 3
    CASE 11
    CASE 12
        CALL HR_TRANS(ARG)
    CASE 13
        CALL TRADE(ARG)
    CASE 999
        RETURN
ENDSELECT
GOTO INPUT_LOOP


@HR_TRANS,ARG
#DIM LIST,20
#DIM INDEX
$INPUT_LOOP
CLEARLINE 20
PRINTL 人才输送协议
PRINTL 可选人才：
DRAWLINE
INDEX=0
VARSET LIST,0
REPEAT CHARANUM
    IF BASE:COUNT:当前所属==ARG
        IF BASE:COUNT:招揽所需<COUNTRY_好感度:ARG
            PRINTFORML [{INDEX}]%NAME:COUNT%
        ELSE
            PRINTFORML [X]%NAME:COUNT%(势力好感不足)
        ENDIF
        LIST:INDEX=COUNT
        INDEX++
    ENDIF
REND
DRAWLINE
PRINTL [999]返回

INPUT
SIF RESULT==999
    RETURN
IF RESULT<=INDEX&&RESULT>=0
    IF BASE:(LIST:RESULT):招揽所需<=COUNTRY_好感度:ARG
    BASE:(LIST:RESULT):当前所属=0
    ELSE
    PRINTW 好感不足
    ENDIF
ENDIF
GOTO INPUT_LOOP


@INTERCOURSE,ARG
#DIM LIST,20
#DIM INDEX
$INPUT_LOOP
CLEARLINE 20
PRINTL 亲善交流
PRINTL 可选对象：
DRAWLINE
INDEX=0
VARSET LIST,0
REPEAT CHARANUM
    IF BASE:COUNT:当前所属==ARG
        PRINTFORML [{INDEX}]%NAME:COUNT%
        LIST:INDEX=COUNT
        INDEX++
    ENDIF
REND
DRAWLINE
PRINTL [900]随便逛逛
PRINTL [999]返回

INPUT
SIF RESULT==999
    RETURN
SIF RESULT==900
    RETURN
IF RESULT<=INDEX&&RESULT>=0
    TARGET=NO:(LIST:RESULT)
    BEGIN TRAIN
ENDIF
GOTO INPUT_LOOP
