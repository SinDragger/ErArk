;-------------------------------------------------------------------------------
;    メインメニュー
;-------------------------------------------------------------------------------
;===============================================================================
@DRAW_MAINMENU
#DIM TEMP, 300

IF TARGET >= 1
	SIF CFLAG:TARGET:1 != 0
		TARGET = -1
ENDIF

IF ASSI >= 1
	SIF CFLAG:ASSI:1 != 0
		ASSI = -1
ENDIF

REDRAW 0

;SETFONT "ARIEL BLACK"
DRAWLINEFORM %UNICODE(0x2550)%

;FONTBOLD
;PRINTFORML   %UNICODE(0x258c)%Main Menu
;FONTREGULAR
;SETFONT

FONTBOLD
ALIGNMENT LEFT
PRINTFORML 当前位置[%ARR_位置名:(CFLAG:FINDCHARA(NO,0):当前位置)%]
ALIGNMENT RIGHT
PRINTFORM 泰拉历 第{DAY/365}年　
PRINTFORM {DAY:1}月{DAY:2}日
SETCOLORBYNAME Yellow
RESETCOLOR
IF TIME == 0
	PRINT  上午
ELSEIF TIME == 1
	PRINT  中午
ELSEIF TIME == 2
	PRINT  下午
ELSEIF TIME == 3
	PRINT  傍晚
ELSEIF TIME == 4
	PRINT  夜晚
ELSEIF TIME == 5
	PRINT  深夜
ELSEIF TIME == 6
	PRINT  凌晨
ELSEIF TIME == 7
	PRINT  早晨
ENDIF
PRINT 　　
PRINTFORM (龙门币：{MONEY}  源石: {MONEY:1})
PRINTL 　　
ALIGNMENT LEFT
FONTREGULAR
;SETFONT

DRAWLINEFORM %UNICODE(0x2500)%
SETFONT "ARIEL BLACK"
FONTBOLD
PRINT 　
IF Target >= 1
	CALL MENU_BUTTON, 0, @"%UNICODE(0x258c)%目标", 496
ELSE
	CALL MENU_BUTTON, 1, @"%UNICODE(0x258c)%目标", 496
ENDIF
PRINTL 
FONTREGULAR
SETFONT

SETFONT "MS ゴシック";等幅フォントに
FONTBOLD

PRINT 　
IF TARGET >= 1 && TARGET < CHARANUM
	PRINT  
	PRINTBUTTON @"%SAVESTR:TARGET%", 498
	LOCALS = %SAVESTR:TARGET%
	STRLENS LOCALS
	TEMP:2 = 18 - RESULT
;	PRINTFORM {TEMP:2}
	PRINTFORM %"",TEMP:2,LEFT%
ENDIF
SIF TARGET < 0
PRINTFORM %"",36%
SIF TARGET > 0
PRINT 　　　　　　　　　
IF ASSI >= 1 && ASSI < CHARANUM
	PRINTBUTTON @"%SAVESTR:ASSI%", 499
	LOCALS = %SAVESTR:ASSI%
	STRLENS LOCALS
	TEMP:2 = 18 - RESULT
	PRINTFORM %"",TEMP:2,LEFT%
	
ENDIF
PRINTFORML 

IF TARGET >= 1
;可增加位置和在做什么
	PRINTS "　 "
	PRINTFORML %CALLNAME:TARGET%(%CHARA_POSITION_S(TARGET)%)
	PRINTS "　 "
	CALL LIFE_BAR,TARGET, -1
	PRINTS "　 "
	SIF ASSI >= 1 && ASSI < CHARANUM
		CALL LIFE_BAR,ASSI, -1
ENDIF
FONTREGULAR
SETFONT
PRINTL

PRINTL 
;RESETCOLOR
FONTREGULAR
SETFONT

DRAWLINEFORM %UNICODE(0x2500)%
SETFONT "ARIEL BLACK"
FONTBOLD
PRINT 　
PRINTFORML %UNICODE(0x258c)%事务列表
PRINTL
FONTREGULAR
SETFONT

FONTBOLD
SETCOLORBYNAME Gray

PRINT 　
IF Target > 0
	PRINTLCD [100] 会面干员
ELSE
	PRINTLC [---] 　　　　
ENDIF
PRINT 　
	PRINTLCD [101] 人事信息
PRINT 　
	PRINTLCD [102] 基建管理
	PRINTL
PRINT 　
	PRINTLCD [103] 商店购物
PRINT 　
	PRINTLCD [104] 公招寻访
PRINT 　
	PRINTLCD [105] 作战行动
	PRINTL
PRINT 　
	PRINTLCD [106] 视察闲逛
PRINT 　
	PRINTLCD [107] 外交接见
PRINT 　
	PRINTLCD [108] 日常工作
	PRINTL
SELECTCASE ARR_位置名:(CFLAG:FINDCHARA(NO,0):当前位置)
CASE "贸易站"
PRINT 　
	PRINTLCD [109]查看贸易订单
	PRINTL
ENDSELECT
PRINT 　
	PRINTLCD [800] 存储
PRINT 　
	PRINTLCD [900] 读取
PRINT 　
	PRINTLCD [999] 设定
	PRINTL


FONTREGULAR
SETFONT
RESETCOLOR

;SETFONT "ARIEL BLACK"
DRAWLINEFORM %UNICODE(0x2550)%
;SETFONT

REDRAW 1

RETURN 0


@MENU_BUTTON(ARG:2 = 0, ARGS:0, ARG:3, ARG:0 = 0, ARG:1 = 0x444444)
ARG:0 = GETDEFCOLOR()
SIF ARG:2 == 1
	SETCOLOR (ARG:0 - ARG:1)

PRINTBUTTON ARGS:0, ARG:3

SIF ARG:2 == 1
	RESETCOLOR
RETURN