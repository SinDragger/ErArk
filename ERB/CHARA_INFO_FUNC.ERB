@CHARA_PRINT(ARG)
#DIM IMG_XPOS
#DIM IMG_HEIGHT
#DIM IMG_WIDTH
#DIM IMG_YPOS
#DIM TEMP
#DIMS IMAGE
CALL CHARA_PRINT_BASIC(ARG)
PRINTFORML %NAME%

TEMP = BASE:潜能评级
PRINT 星级：
FOR LOCAL,0,TEMP
PRINT ★
NEXT
IMG_XPOS = 3000;2000*2
IMG_HEIGHT = 720*5
IMG_WIDTH = 720*5
IMG_YPOS = -1150;-360*3
;LOCALS:1 = 头像_%NAME%
LOCALS:1 = 立绘_%NAME%
LOCALS:0 = <shape type='space' param='{IMG_XPOS}'><img src='%LOCALS:1%' width='{IMG_WIDTH}' height='{IMG_HEIGHT}' ypos='{IMG_YPOS}'>

HTML_PRINT LOCALS:0
;PRINTL
;PRINTFORML 星级：{ABL:星级}
;TODO:抽离成方法
CALL CHARA_PRINT_ARK_SKILL(ARG)
CALL CHARA_PRINT_EQUIP(ARG)
PRINTL 


@CHARA_PRINT_BASIC(ARG)
#DIM TEMP
PRINTFORML 精力：{BASE:ARG:精力}
PRINTFORML 精力最大值：{MAXBASE:ARG:精力}
PRINTFORML 体力：{BASE:ARG:体力}
PRINTFORML 体力最大值：{MAXBASE:ARG:体力}
PRINTL

@CHARA_PRINT_ARK_SKILL(ARG)
#DIM TEMP
CALL DRAWLINES, "□ 技能 □", 20
PRINT 战斗：
PRINTL
PRINT 基建：
FOR LOCAL,400,800
	IF TALENT:ARG:LOCAL>0
	SETCOLOR GET_STRING_COLOR("淡蓝色")
	PRINTFORM [%TALENTNAME:LOCAL%
		;处理带后缀的技能名
		TEMP = 0
		IF TALENT:ARG:LOCAL>1
		TEMP = 2
		ELSE
			SELECTCASE LOCAL
				CASE 401 TO 403
					TEMP = 1
				CASE 501 TO 503
					TEMP = 1
				CASE 551 TO 559
					TEMP = 1
				CASE 601 TO 607
					TEMP = 1
				CASE 651
					TEMP = 1
				CASE 701 TO 708
					TEMP = 1
				CASE 731
					TEMP = 1
			ENDSELECT
		ENDIF

		IF TEMP == 1
		PRINT ·α
		ELSEIF TEMP == 2
		PRINT ·β
		ENDIF
	PRINT ]
	RESETCOLOR
	ENDIF
NEXT
PRINTL

@CHARA_PRINT_EQUIP(ARG)
CALL DRAWLINES, "□ 基础 □", 19

@CHARA_PRINT_EQUIP(ARG)
#DIM TEMP
CALL DRAWLINES, "□ 穿着 □", 20
;PRINTL 【穿着】====================================
FOR LOCAL,0,50
	IF EQUIP:ARG:LOCAL>0
		PRINTFORM %EQUIPNAME:LOCAL,7,LEFT%
		PRINT [
		SETCOLOR GET_STRING_COLOR("青绿色")
		CALL PRINT_EQUIP_PART,LOCAL,EQUIP:ARG:LOCAL
		RESETCOLOR
		PRINT ]
		PRINTL
	ENDIF
NEXT
IF CFLAG:ARG:1 <= 0
SETCOLOR GET_STRING_COLOR("深红色")
PRINT [隐私部位：干员私密信息·未开放] 
RESETCOLOR
ELSE
SETCOLOR GET_STRING_COLOR("绿色")
PRINT [隐私部位：干员私密信息·已授权] 
RESETCOLOR
ENDIF


@DRAWLINES, ARGS, ARG
LOCALS = %ARGS%
IF ARG != 0
	PRINTBUTTON LOCALS, ARG
ELSE
	PRINTFORM %LOCALS%
ENDIF
FOR LOCAL, 0, 60 - STRLENS(ARGS)
	PRINTFORM -
NEXT
;自動改行
PRINTL 

@IS_ABLE_TO_ABILITY_UP(ARG)
#FUNCTION
@IS_ABLE_TO_CLOTH(ARG)
#FUNCTION
@IS_ABLE_TO_ABILITY_UP(ARG)
#FUNCTION

@PRINT_EQUIP_PART(ARG,ARG:1)
#DIM ARRAY_FLAG
ARRAY_FLAG = ARG:1
SELECTCASE ARG
CASE 0
PRINTS ARR_发型:ARRAY_FLAG
CASE 1
PRINTS ARR_头部:ARRAY_FLAG
CASE 2
PRINTS ARR_耳部:ARRAY_FLAG
CASE 3
PRINTS ARR_面部:ARRAY_FLAG
CASE 4
PRINTS ARR_口部:ARRAY_FLAG
CASE 5
PRINTS ARR_头装饰:ARRAY_FLAG
CASE 6
PRINTS ARR_颈部:ARRAY_FLAG
CASE 7
PRINTS ARR_上半身:ARRAY_FLAG
CASE 8
PRINTS ARR_下半身:ARRAY_FLAG
CASE 9
PRINTS ARR_全身:ARRAY_FLAG
CASE 10
PRINTS ARR_外套:ARRAY_FLAG
CASE 11
PRINTS ARR_袜子:ARRAY_FLAG
CASE 12
PRINTS ARR_脚部:ARRAY_FLAG
CASE 13
PRINTS ARR_主手持:ARRAY_FLAG
ENDSELECT